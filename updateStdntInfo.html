<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <script type="text/javascript">
        function getURL(stdntid, passwd) {
            var xmlhttp;
            if (window.XMLHttpRequest) {
                // code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp = new XMLHttpRequest();
            } else {
                // code for IE6, IE5
                xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
            }

            xmlhttp.onreadystatechange = function () {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    var result = xmlhttp.responseText;
                    var obj = JSON.parse(result);//解析json字串為json物件形式
                    window.location.replace(obj);
                }

            }

            var url = "https://script.google.com/macros/s/AKfycbznGBpgWJ8t7r0Pahb4Ie1oA2EPfDTRwLnrpJHSqfyL0bub-yA1XJHsqRafIM9UI7CX/exec";
            xmlhttp.open("get", url + "?stdntid=" + encodeURIComponent(stdntid) + "&passwd=" + encodeURIComponent(passwd), true);
            xmlhttp.send();
        }


    </script>

</head>

<body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
<script type="text/javascript">
    function showPassword() {
        var x = document.getElementById("passwd");
        if (x.type === "password") {
            x.type = "text";
        } else {
            x.type = "password";
        }
    }

    /*
    function onload() {
        alert("Page is loaded");
        var btn1 = document.getElementById("btn1");
        var pwd = document.getElementById("passwd")//$('input[type="text"]');
        var sid = document.getElementById("stdntid")//$('input[type="text"]');

        btn1.prop('disabled', true);
        pwd.on('keyup', checkStatus);
        sid.on('keyup', checkStatus);

        function checkStatus() {
            var status = ($.trim(pwd.val()) === '' || $.trim(sid.val()) === '');
            btn1.prop('disabled', status);
        }
    };
    window.onload = onload();
     */
</script>
<div class="container-fluid">

    <form>
        <div class="form-group mb-4">
            <label for="stdntid">學生編號</label>
            <input type="text" class="form-control" style="width:300px;" id="stdntid" placeholder="">
        </div>

        <div class="form-group mb-4">
            <label for="passwd">密碼</label>
            <input type="password" class="form-control" style="width:300px;"id="passwd" placeholder="Password">
            <div class="mt-1 form-check">
                <input type="checkbox" class="form-check-input" id="exampleCheck1" onclick="showPassword()">
                <label class="form-check-label" for="exampleCheck1">顯示密碼</label>
            </div>
        </div>
        <button type="button" id="btn1" class="btn btn-primary mt-2" onclick="getURL(stdntid.value,passwd.value);">
            查詢
        </button>
    </form>

</div>
</body>
</html>